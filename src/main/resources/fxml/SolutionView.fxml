<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Accordion?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import dev.zemco.codegame.presentation.execution.MemoryView?>
<?import org.fxmisc.flowless.VirtualizedScrollPane?>
<?import org.fxmisc.richtext.CodeArea?>

<?import javafx.scene.control.ScrollPane?>
<VBox xmlns="http://javafx.com/javafx/11" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="dev.zemco.codegame.presentation.solution.SolutionController">
    <HBox alignment="CENTER_LEFT" minWidth="40.0" prefHeight="40.0" spacing="8.0">
        <padding>
            <Insets left="16.0" right="16.0"/>
        </padding>
        <Button fx:id="backButton" onAction="#onBackButtonClicked" text="Back"/>
        <Label fx:id="problemNameLabel" text="Level Name" styleClass="title-label"/>
    </HBox>
    <SplitPane dividerPositions="0.65" prefHeight="160.0" prefWidth="200.0" VBox.vgrow="ALWAYS">
        <VirtualizedScrollPane>
            <!--do not remove simplify the content tag here, this causes issues-->
            <!--thanks to the Flowless library implementation-->
            <!--suppress JavaFxDefaultTag-->
            <content>
                <CodeArea fx:id="codeArea" onKeyTyped="#onCodeAreaTextChanged"/>
            </content>
        </VirtualizedScrollPane>
        <Accordion fx:id="infoAccordion" expandedPane="$descriptionPane">
            <panes>
                <TitledPane fx:id="descriptionPane" animated="false" text="Description">
                    <ScrollPane>
                        <padding>
                            <Insets bottom="8.0" left="8.0" right="8.0" top="8.0"/>
                        </padding>
                        <Label fx:id="problemDescriptionLabel" wrapText="true"/>
                    </ScrollPane>
                </TitledPane>
                <TitledPane fx:id="executionPane" animated="false" text="Execution (Memory)">
                    <MemoryView fx:id="memoryView"/>
                </TitledPane>
            </panes>
        </Accordion>
    </SplitPane>
    <HBox alignment="CENTER_LEFT" prefHeight="40.0" spacing="8.0">
        <padding>
            <Insets left="16.0" right="16.0"/>
        </padding>
        <Button fx:id="compileButton" mnemonicParsing="false" onMouseClicked="#onCompileButtonClicked" text="Compile"/>
        <Button fx:id="toggleExecutionButton" mnemonicParsing="false" onAction="#onToggleExecutionButtonClicked"
                text="Toggle"/>
        <Button fx:id="submitButton" mnemonicParsing="false" onMouseClicked="#onSubmitButtonClicked" text="Submit"/>
        <Pane prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS"/>
        <Button fx:id="stepButton" mnemonicParsing="false" onAction="#onStepButtonClicked" text="Step"/>
        <CheckBox fx:id="autoEnabledCheckbox" mnemonicParsing="false" text="Auto"/>
        <Slider fx:id="autoSpeedSlider"/>
    </HBox>
</VBox>
